# QLock
分布式锁，为锁的资源增加校验
===
最近在做项目的过程中感到有点迷惑，主要是对分布式锁的使用产生了以下几个疑问：
1. 使用分布式锁来保护资源并不能够保证在不同业务线中资源的安全，换句话说需要保护的资源可能在不同的业务线中使用的是不同的分布式锁，这样导致资源仍然是不安全的。
2. 如果是基于数据库的分布式锁，如何保证获取锁后的应用宕机将失效的锁清除呢？
3. 分布式锁获取失败后无差别执行 finally release 操作，导致获取锁失败的线程能够将锁释放掉，因此还需要增加线程维度的校验。

目前实现思路是资源上增加 **LockCheck** 注解，然后使用切面扫描并增加校验逻辑，这样就可以简单实现了。
但是发现还是需要和分布式锁本身配合才行，因此也准备将分布式锁也集成进来。

当前该项目仅为验证想法使用。